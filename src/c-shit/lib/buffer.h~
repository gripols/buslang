#ifndef BUFFER_H
#define BUFFER_H

#include <stdbool.h>
#include <stddef.h>
#include <stdint.h>

#include "error.h"

struct bus_buffer {
	size_t size;
	size_t cap;
	unsigned int *data;
};

enum bus_error bus_error_init_jit(struct bus_buffer *buffer);

enum bus_error bus_buffer_write(struct bus_buffer *buffer, const void *data,
				size_t n);

static inline enum bus_error bus_buffer_write_u8(struct bus_buffer *buffer,
						 uint8_t value)
{
	return bus_buffer_write(buffer, &value, sizeof(value));
}
#endif // BUFFER_H
